<?php

header("Access-Control-Allow-Origin: *");
header("Access-Control-Allow-Headers: access");
header("Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS");
header("Content-Type: application/json; charset=UTF-8");
header("Access-Control-Allow-Headers: Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With");
require __DIR__ . '/Database.php';
$products = json_decode('[{"categoryName":"Fertilizers","description":"a natural or chemical substance that is put on land or soil to make plants grow better","imgSrc":"https://res.cloudinary.com/dvuh4fz9d/image/upload/v1648390941/fertilizers1_hdthei.jpg"},{"categoryName":"Pesticides","description":"a chemical substance that is used for killing bugs especially insects, that eat food crops","imgSrc":"https://res.cloudinary.com/dvuh4fz9d/image/upload/v1648390940/pesticides1_pveijq.jpg"},{"categoryName":"Farming Tools","description":"Agricultural tools are instruments that are used in the fields to aid in the agricultural process.","imgSrc":"https://res.cloudinary.com/dvuh4fz9d/image/upload/v1648390940/tools_emqkuu.jpg"},{"categoryName":"Seeds","description":"Vegetables & Fruits Seeds","imgSrc":"https://res.cloudinary.com/dvuh4fz9d/image/upload/v1648390941/seeds_tqx9ub.jpg"},{"categoryName":"Safety Wearables","description":"Safety Wearables such as shoes, gloves etc","imgSrc":"https://res.cloudinary.com/dvuh4fz9d/image/upload/v1648395553/farmer-spraying-rice_720x480_p9nhyb.webp"},{"categoryName":"Electronic Devices","description":"Sensors, testers, torch & gadgets for farming","imgSrc":"https://res.cloudinary.com/dvuh4fz9d/image/upload/v1648397135/probeInSoil_1_cropped_s81abe.jpg"}]');
$db_connection = new Database();
$pdo = $db_connection->dbConnection();
for ($i = 0; $i < count($products); $i++) {

    $stmt = $pdo->prepare("insert into categories (categoryName,description,imgSrc) 
    values(:categoryName,:description,:imgSrc);");
    $stmt->execute(
        array(
            ":categoryName" => $products[$i]->categoryName,
            ":description" => $products[$i]->description,
            ":imgSrc" => $products[$i]->imgSrc
        )
    );
}
// Hackurr Reports We Leave on Friday...
//hackurr ee file rastunad ipudu... broooo 10 appli - 4 web 4 mobile we negotiate(4 mobile=react converted to mobile a)
