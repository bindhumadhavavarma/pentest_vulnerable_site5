import { toast } from "react-toastify";

export const addItemToCart = async({ itemDetails, dispatchCart }) => {
    try {
        // const response = await axios({
        //   url: "/api/user/cart",
        //   method: "post",
        //   headers: {
        //     authorization: auth.token,
        //   },
        //   data: {
        //     product: itemDetails,
        //   },
        // });
        console.log(dispatchCart({
            type: "ADD-TO-CART",
            payload: itemDetails,
        }));
        toast.success("Item Added to Cart");
    } catch (error) {
        console.log("Add Item to Cart Error", error);
        toast.error("Error to add Item in Cart");
    }
};

export const removeItemFromCart = async({ itemId, dispatchCart }) => {
    try {
        dispatchCart({
            type: "REMOVE-FROM-CART",
            payload: itemId,
        });
        toast.success("Item Removed from Cart");
    } catch (error) {
        console.log("Remove Item from Cart Error", error);
        toast.error("Error to remove Item from Cart");
    }
};
//clears cart after payment.
export const clearCart = async({ dispatchCart }) => {
    try {
        dispatchCart({ type: "CLEAR-CART" });
    } catch (error) {
        console.log("Clear Cart Error", error);
        toast.error("Error to Clear Cart");
    }
};